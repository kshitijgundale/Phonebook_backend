{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/NewPerson.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Persons","persons","searchName","filter","toLowerCase","includes","map","Filter","setSearchName","onChange","event","target","value","NewPerson","addPerson","setNewName","setNewNumber","newName","newNumber","onSubmit","type","baseUrl","services","getAll","axios","get","then","response","data","add","personObject","post","remove","delete","update","updatedPerson","put","Notification","text","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","message","setMessage","useEffect","personService","intialPersons","preventDefault","newPerson","some","window","confirm","find","p","returnedPerson","setTimeout","catch","error","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0c54e649.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n  return (\r\n  <div>\r\n    <p>{person.name} {person.number}</p>\r\n    <button onClick={()=>{deletePerson(person.id, person.name)}}>Delete</button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({persons, searchName, deletePerson}) => {\r\n    let arr = persons.filter((person)=>person.name.toLowerCase().includes(searchName.toLowerCase()))\r\n    return (\r\n      arr.map((person)=>\r\n        <Person person={person} key={person.name} deletePerson={deletePerson}/>\r\n      )\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({searchName, setSearchName}) => {\r\n    return (\r\n        <div>\r\n            Search by Name: <input onChange={(event)=>setSearchName(event.target.value)} value={searchName}/>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst NewPerson = ({addPerson, setNewName, setNewNumber ,newName, newNumber}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input onChange={(event)=>setNewName(event.target.value)} value={newName}/>\r\n          number: <input onChange={(event)=>setNewNumber(event.target.value)} value={newNumber}/>\r\n        </div>\r\n        <div>debug: {newName}</div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default NewPerson","import axios from 'axios';\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    return (\r\n        axios\r\n            .get(baseUrl)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nconst add = (personObject) => {\r\n    return (\r\n        axios\r\n            .post(baseUrl, personObject)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nconst remove = (id) => {\r\n    return (\r\n        axios\r\n            .delete(`${baseUrl}/${id}`)\r\n    )\r\n}\r\n\r\nconst update = (id, updatedPerson) => {\r\n    return (\r\n        axios\r\n            .put(`${baseUrl}/${id}`, updatedPerson)\r\n            .then(response => response.data)\r\n    )\r\n}\r\n\r\nconst services = {getAll, add, remove, update}\r\n\r\nexport default services","import React from 'react'\r\n\r\nconst Notification = ({ text, type }) => {\r\n    const style =  {\r\n        color: '',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if(type==='error'){\r\n        style['color'] = 'red'\r\n    }\r\n    else{\r\n        style['color'] = 'green'\r\n    }\r\n\r\n    if (text === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={style}>\r\n        {text}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport NewPerson from './components/NewPerson'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(()=>{\n    personService\n      .getAll()\n      .then(intialPersons => {\n        setPersons(intialPersons)\n      })\n  }, [])\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    let newPerson = {name: newName, number: newNumber}\n    if(persons.some((person)=>person.name === newName)){\n      if(window.confirm(`${newName} already exists, replace old number with new one?`)){\n        const person = persons.find(p => p.name === newName)\n        const updatedPerson = {...person, number: newNumber}\n        personService\n          .update(person.id, updatedPerson)\n          .then((returnedPerson)=>{\n            setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage({text:`${person.name} has been updated`, type:'error'})\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000);\n          })\n          .catch(error=>{\n            setPersons(persons.filter(p=>p.id !== person.id))\n            setMessage({text:`${person.name} has already been deleted`, type:'error'})\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000);\n          })\n      }\n    }\n    else{\n      personService\n        .add(newPerson)\n        .then((newPerson)=>{\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage({text:`Added ${newPerson.name}`, type:'success'})\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000);\n        })\n        .catch((error)=>{\n          console.log(error.response.data)\n          setMessage({text: error.response.data.error, type:'error'})\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000);\n        })\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    if(window.confirm(`Delete ${name}`)){\n      personService\n        .remove(id)\n        .then(()=>{\n          setPersons(persons.filter(person => person.id !== id))\n          setMessage({text:`Deleted ${name}`, type:'success'})\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000);\n        })\n        .catch(error=>{\n          setPersons(persons.filter(p=>p.id !== id))\n          setMessage({text:`${name} has already been deleted`, type:'error'})\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000);\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {\n        message?\n        <Notification text={message.text} type={message.type} />\n        :\n        <></>\n      }\n      <h2>Search</h2>\n      <Filter searchName={searchName} setSearchName={setSearchName}/>\n      <h2>Add a Number</h2>\n      <NewPerson newName={newName} newNumber={newNumber} setNewName={setNewName} setNewNumber={setNewNumber} addPerson={addPerson}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} searchName={searchName} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}